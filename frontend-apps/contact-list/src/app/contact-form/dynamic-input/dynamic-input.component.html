<div [formGroup]="form" class="slds-form-element slds-has-error" [ngClass]="{'slds-has-error': !isValid}">
  <label class="slds-form-element__label" [attr.for]="input.key">
    {{input.label}}
  </label>

  <div class="slds-form-element__control" [ngSwitch]="input.controlType">

    <input class="slds-input" *ngSwitchCase="'textbox'" [formControlName]="input.key"
            [id]="input.key" [type]="input.type">

    <select [id]="input.key" *ngSwitchCase="'dropdown'" [formControlName]="input.key">
      <option *ngFor="let opt of input.options" [value]="opt.key">{{opt.value}}</option>
    </select>

  </div> 
  <div class="slds-form-element__help" *ngIf="!isValid">This field is required</div>
</div>